using System;
using System.Security.Cryptography;

// array:     System
// ArrayList: System.Collections


namespace C_Sharp_Practice
{
    interface ISoldier
    {
        void confirmOrders(string direction, string destination);
    }
    class Soldier : ISoldier
    {
        public void confirmOrders(string direction, string destination)
        {
            Console.WriteLine("I go "+direction+" to " +destination+".");
        }
    }
    interface IUndead
    {
        int takeDamage(int amount, string type);
    }
    class Undead : IUndead
    {
        public int takeDamage(int amount, string type)
        {
            if (type == "negative")
            {
                Console.WriteLine("Healed for "+amount);
                return amount;
            }
            else
            {
                Console.WriteLine("Damaged for "+amount);
                return -amount;
            }
        }
    }

    class SkeletonWarrior
    {
        int m_health;
        int m_healthMax;

        ISoldier i_s = new Soldier();
        IUndead i_u = new Undead();

        public SkeletonWarrior(int maxHealth)
        {
            m_health = m_healthMax = maxHealth;

        }

        public void confirmOrders(string direction, string destination)
        {
            i_s.confirmOrders(direction, destination);
        }

        public void takeDamage(int amount, string type)
        {
            m_health = i_u.takeDamage(amount, type);
            m_health = Math.Min(m_healthMax, m_health);
            m_health = Math.Max(m_health, 0);
        }
    }

    class Practice_Problem
    {
        public static void Practice_Problem_Main()
        {
            SkeletonWarrior sw = new SkeletonWarrior(7);

            sw.confirmOrders("South", "LegoLand");
            sw.takeDamage(3, "holy");
            sw.takeDamage(10, "negative");
        }
    }
}
